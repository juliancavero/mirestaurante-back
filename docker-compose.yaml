version: "3"
services:
     mongodb:
          image: mongo:latest
          container_name: "mongodb"
          environment:
                         - DATABASE_NAME=teamcamp
          volumes:
                         - mongodata:/data/db
          ports:
                         - "27017:27017"
          command: mongod
     mirestaurante:
          build:
               context: ${PWD}
               dockerfile: Dockerfile
          environment:
               - MONGO_DATABASE_NAME=teamcamp
               - MONGO_URL=mongodb://mongodb:27017
          ports:
               - "3099:3099"
          depends_on:
               - mongodb
          restart: always
volumes:
     mongodata:
